vre:
  start_frame: ${oc.env:VRE_START_IX}
  end_frame: ${oc.env:VRE_END_IX,null}
  output_resolution: [240, 426]
  export_raw: True
  export_npy: True
  export_png: True

representations:
  rgb:
    type: default
    method: rgb
    dependencies: []
    parameters: {}

  hsv:
    type: default
    method: hsv
    dependencies: []
    parameters: {}

  halftone1:
    type: soft-segmentation
    method: python-halftone
    dependencies: []
    parameters:
      sample: 3
      scale: 1
      percentage: 91
      angles: [0, 15, 30, 45]
      antialias: False
      resolution: [240, 426]

  edges canny:
    type: edges
    method: canny
    dependencies: []
    parameters:
      threshold1: 100
      threshold2: 200
      aperture_size: 3
      l2_gradient: True

  softseg kmeans:
    type: soft-segmentation
    method: kmeans
    dependencies: []
    parameters:
      n_clusters: 6
      epsilon: 2
      max_iterations: 10
      attempts: 3

  softseg gb:
    type: soft-segmentation
    method: generalized_boundaries
    dependencies: []
    parameters:
      useFiltering: True
      adjustToRGB: True
      maxChannels: 3

  semantic safeuav torch:
    type: semantic
    method: safeuav
    dependencies: []
    parameters:
      device: ${oc.env:VRE_DEVICE,cpu}
      weights_file: safeuav_semantic_0956_pytorch.ckpt
      trainHeight: 240
      trainWidth: 428
      numClasses: 8
      colorMap: [[0, 255, 0], [0, 127, 0], [255, 255, 0], [255, 255, 255],
                 [255, 0, 0], [0, 0, 255], [0, 255, 255], [127, 127, 63]]

  edges dexined:
    type: edges
    method: dexined
    dependencies: []
    parameters:
      device: ${oc.env:VRE_DEVICE,cpu}

  opticalflow rife:
    type: optical-flow
    method: rife
    dependencies: []
    parameters:
      computeBackwardFlow: False
      device: ${oc.env:VRE_DEVICE,cpu}

  depth odoflow (rife):
    type: depth
    method: odo-flow
    dependencies: [opticalflow rife]
    parameters:
      velocitiesPath: DJI_0956_velocities.npz
      linearAngVelCorrection: True
      focusCorrection: True
      cosineCorrectionScipy: False
      cosineCorrectionGD: True
      fov: 75
      sensorWidth: 3840
      sensorHeight: 2160
      minDepthMeters: 0
      maxDepthMeters: 400

  normals svd (rife):
    type: normals
    method: depth-svd
    dependencies: [depth odoflow (rife)]
    parameters:
      fov: 75
      sensorWidth: 3840
      sensorHeight: 2160
      windowSize: 11

  # # SUCKY BECAUSE SUPERSLOW. Adds like 2-3 mins in CI. Rife is good enough.
  # opticalflow raft:
  #   type: optical-flow
  #   method: raft
  #   dependencies: []
  #   parameters:
  #     device: ${oc.env:VRE_DEVICE,cpu}
  #     inputHeight: 720
  #     inputWidth: 1280

  # depth odoflow (raft):
  #   type: depth
  #   method: odo-flow
  #   dependencies: [opticalflow raft]
  #   parameters:
  #     velocitiesPath: DJI_0956_velocities.npz
  #     linearAngVelCorrection: True
  #     focusCorrection: True
  #     cosineCorrectionScipy: False
  #     cosineCorrectionGD: True
  #     fov: 75
  #     sensorWidth: 3840
  #     sensorHeight: 2160
  #     minDepthMeters: 0
  #     maxDepthMeters: 400

  # normals svd (raft):
  #   type: normals
  #   method: depth-svd
  #   dependencies: [depth odoflow (raft)]
  #   parameters:
  #     fov: 75
  #     sensorWidth: 3840
  #     sensorHeight: 2160
  #     windowSize: 11

  # # sucky because slow, but it's good/pretrained
  # depth dpt:
  #   type: depth
  #   method: dpt
  #   dependencies: []
  #   parameters:
  #     device: ${oc.env:VRE_DEVICE,cpu}

  # normals svd (dpt):
  #   type: normals
  #   method: depth-svd
  #   dependencies: [depth dpt]
  #   parameters:
  #     fov: 75
  #     sensorWidth: 3840
  #     sensorHeight: 2160
  #     windowSize: 11
