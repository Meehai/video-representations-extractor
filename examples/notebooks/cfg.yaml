vre:
  start_frame: ${oc.env:VRE_START_IX}
  end_frame: ${oc.env:VRE_END_IX,null}
  export_npy: True
  export_png: True

representations:
  rgb:
    type: default
    name: rgb
    dependencies: []
    parameters: {}

  # hsv:
  #   type: default
  #   name: hsv
  #   dependencies: []
  #   parameters: {}

  # halftone1:
  #   type: soft-segmentation
  #   name: python-halftone
  #   dependencies: []
  #   parameters:
  #     sample: 3
  #     scale: 1
  #     percentage: 91
  #     angles: [0, 15, 30, 45]
  #     antialias: False
  #     resolution: [240, 426]

  # edges canny:
  #   type: edges
  #   name: canny
  #   dependencies: []
  #   parameters:
  #     threshold1: 100
  #     threshold2: 200
  #     aperture_size: 3
  #     l2_gradient: True

  # softseg kmeans:
  #   type: soft-segmentation
  #   name: kmeans
  #   dependencies: []
  #   parameters:
  #     n_clusters: 6
  #     epsilon: 2
  #     max_iterations: 10
  #     attempts: 3

  softseg gb:
    type: soft-segmentation
    name: generalized_boundaries
    dependencies: []
    parameters:
      use_median_filtering: True
      adjust_to_rgb: True
      max_channels: 3

  edges dexined:
    type: edges
    name: dexined
    dependencies: []
    parameters: {}
    vre_parameters:
      device: ${oc.env:VRE_DEVICE,cpu}

  opticalflow rife:
    type: optical-flow
    name: rife
    dependencies: []
    parameters:
      uhd: False
      compute_backward_flow: False
    vre_parameters:
      device: ${oc.env:VRE_DEVICE,cpu}

  fastsam(s):
    type: soft-segmentation
    name: fastsam
    dependencies: []
    parameters:
      variant: fastsam-s
      iou: 0.9
      conf: 0.4
    vre_parameters:
      device: cpu #${oc.env:VRE_DEVICE,cpu}

  fastsam(x):
    type: soft-segmentation
    name: fastsam
    dependencies: []
    parameters:
      variant: fastsam-x
      iou: 0.9
      conf: 0.4
    vre_parameters:
      device: cpu # ${oc.env:VRE_DEVICE,cpu}

  mask2former_mapilary_r50:
    type: semantic-segmentation
    name: mask2former
    dependencies: []
    parameters:
      model_id: "49189528_1"
      semantic_argmax_only: True
    vre_parameters:
      device: ${oc.env:VRE_DEVICE,cpu}

  mask2former_coco_swin:
    type: semantic-segmentation
    name: mask2former
    dependencies: []
    parameters:
      model_id: "47429163_0"
      semantic_argmax_only: True
    vre_parameters:
      device: ${oc.env:VRE_DEVICE,cpu}

  # # SUCKY BECAUSE SUPERSLOW. Adds like 2-3 mins in CI. Rife is good enough.
  opticalflow_raft:
    type: optical-flow
    name: raft
    dependencies: []
    parameters:
      inference_height: 720
      inference_width: 1280
      iters: 20
      small: False
    vre_parameters:
      device: ${oc.env:VRE_DEVICE,cpu}

  # sucky because slow, but it's good/pretrained
  depth dpt:
    type: depth
    name: dpt
    dependencies: []
    parameters: {}
    vre_parameters:
      device: ${oc.env:VRE_DEVICE,cpu}
